{% extends "base.html" %}
{% load static %}

{% block title %}My Profile{% endblock %}

{% block content %}
<div class="container">

  <h1 class="mb-4">My Profile</h1>

  <!-- Profile Picture -->
  {% if request.user.profile_image %}
    <img src="{{ request.user.profile_image.url }}"
         alt="profile picture"
         class="rounded-circle border"
         style="width:120px; height:120px; object-fit:cover; margin-bottom:20px;">
  {% else %}
    <img src="{% static 'default_profile.png' %}"
         alt="default profile"
         class="rounded-circle border"
         style="width:120px; height:120px; object-fit:cover; margin-bottom:20px;">
  {% endif %}

  <p><strong>Username:</strong> {{ request.user.username }}</p>
  <p><strong>Email:</strong> {{ request.user.email }}</p>
  <p><strong>First name:</strong> {{ request.user.first_name }}</p>
  <p><strong>Last name:</strong> {{ request.user.last_name }}</p>
  <p><strong>Favorite Genre:</strong> {{ request.user.favorite_genre|title }}</p>

  <p><strong>Favorite Authors:</strong>
    {% if request.user.favorite_authors %}
      {{ request.user.favorite_authors|join:", " }}
    {% else %}
      <em>No authors listed</em>
    {% endif %}
  </p>

  <p><strong>Bio:</strong><br>
    {{ request.user.user_bio|linebreaks }}
  </p>

  <a href="{% url 'accounts:profile_edit' %}" class="btn btn-primary me-2">Edit Profile</a>
  <a href="{% url 'accounts:password_change' %}" class="btn btn-outline-secondary">Change Password</a>

</div>
{% endblock %}
